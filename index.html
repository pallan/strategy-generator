<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v3.8.5">
    <title>Curling Strategy Generator</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      body {
        padding-top: 5rem;
      }
      .starter-template {
        padding: 3rem 1.5rem;
        text-align: center;
      }

      li.load-saved {
        cursor: pointer;
      }

      #houseCanvas { 
        border:2px solid #000000;
      }

      #advanced-config { 
        display: none;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="#">Strategy Time</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
</nav>

<main role="main" class="container-fluid">
  <div class="row">
    <div class="col-md">
        <canvas id="houseCanvas"></canvas>
    </div>
    <div class="col-md">
      <h4>Scenario Management</h4>
      <p><button id="save-button" type="button" class="btn btn-info">Save</button> <button type="button" class="btn btn-danger" onclick="refreshHouse()">Regenerate House</button></p>
      <p><a href="#" id="toggle-advanced">Advanced Configuation</a></p>
      <div id="advanced-config">
        <form id="advancedConfigForm">
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="stoneColour1">Stone Colours</label>
                <select class="form-control" class="stone_colours" id="stoneColours">
                  <option selected="selected">Red / Yellow</option>
                  <option>Blue / Green</option>
                  <option>Blue / Red</option>
                  <option>Blue / Yellow</option>
                  <option>Green / Red</option>
                  <option>Green / Yellow</option>
                </select>
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="minThrown">Min. Stones Thrown</label>
                <select class="form-control" id="minThrown">
                  <option selected="selected">3</option>
                  <option>4</option>
                  <option>5</option>
                  <option>6</option>
                  <option>7</option>
                  <option>8</option>
                  <option>9</option>
                  <option>10</option>
                  <option>11</option>
                  <option>12</option>
                  <option>13</option>
                  <option>14</option>
                  <option>15</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col">
              <div class="form-group">
                <label for="zone1">Zone 1</label>
                <input type="text" class="zoneInput" name="zone1" class="form-control" value="8">
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="zone2">Zone 2</label>
                <input type="text" class="zoneInput" name="zone2" class="form-control" value="22">
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="zone3">Zone 3</label>
                <input type="text" class="zoneInput" name="zone3" class="form-control" value="40">
              </div>
            </div>
            <div class="col">
              <div class="form-group">
                <label for="zone4">Zone 4</label>
                <input type="text" class="zoneInput" name="zone4" class="form-control" value="30">
              </div>
            </div>
          </div>
        </form>
        <div style="display:none">
          <form id="rawJSONConfigForm">
            <div class="form-group">
              <textarea class="form-control" id="scenario_config" rows="8"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Manual Update</button>
          </form>
        </div>
      </div>
      <h4>Saved Scenarios</h4>
      <div class="list-group" id="saved-scenario-list"></div>
      <p><button type="button" id="clear-saved" class="btn btn-danger btn-sm">Clear</button></p>
    </div>
    <div class="col-md">
<h4>How it Works</h4>

<p>This page generates a curling house with stones in play to create in-game 
  scenarios for teams or skips to discuss their strategy for that end. The 
  following details how each part of the scenario is generated.</p>

<dl>
  <dt>End</dt>
  <dd>Randomly selected from 1st to 10th</dd>
  <dt>Stone Colour</dt>
  <dd>Randomly selected from 'Red' or 'Yellow'</dd>
  <dt>Position Throwing</dt>
  <dd>Number of stones already thrown is randomly selected between 3 and 15. The
    position is calculated based on this. For example, if 11 stones have been thrown
    then the next stone is the twelveth or the team with hammer third's second stone.
  </dd>
  <dt>Hammer</dt>
  <dd>Similar to position, it is based on stones already thrown. If the next stone to 
    come is an odd stone, the team does not have hammer. If the next stone to come is
    an even stone, the tead has hammer.    
  </dd>
  <dt>Score Differential</dt>
  <dd>Randomly selected between 0 (tied) and 6. "Up" or "Down" is randomly selected.</dd>
</dl>

<h5>Stone Placement</h5>

<p>The stones are placed in the play area randomly using a weighted distribution. 
  What is a weighted distribution? The play area has been divided into four 'zones' with each
  one being assigned a weight to affect the probability that zone will be selected by the 
  randomizer. The zones and probabilities are detailed below.</p>

<table class="table">
  <thead>
    <tr>
      <th>Zone</th>
      <th>Location</th>
      <th>Probabilty</th>
    </tr>        
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>Hogline to 9ft past hogline</td>
      <td>8%</td>
    </tr>
    <tr>
      <td>2</td>
      <td>9ft past Hogline to Top of House</td>
      <td>22%</td>
    </tr>
    <tr>
      <td>3</td>
      <td>Top of House to T-Line</td>
      <td>40%</td>
    </tr>
    <tr>
      <td>4</td>
      <td>T-Line to Back Line</td>
      <td>30%</td>
    </tr>
  </tbody>
</table>

<p>Additionally to prevent all stones from being in play, the randomizer gives each stone
a 50% chance of staying in play. Stones that 'fail' this test are removed.</p>
    </div>
  </div>
</main><!-- /.container -->

<script src="js/app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script>
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#000"
    },
    "button": {
      "background": "#f1d600"
    }
  }
});
</script>

</html>
